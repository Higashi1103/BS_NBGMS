<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.YuzaMapper">
	<resultMap id="BaseResultMap"
		type="com.example.demo.entity.Yuza">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Oct 27 
			15:55:24 JST 2025. -->
		<result column="yuza_id" jdbcType="VARCHAR" property="yuzaId" />
		<result column="yuza_pwd" jdbcType="VARCHAR" property="yuzaPwd" />
		<result column="yuza_namae" jdbcType="VARCHAR"
			property="yuzaNamae" />
		<result column="sakuseijikan" jdbcType="VARCHAR"
			property="sakuseijikan" />
		<result column="ronrisakujo" jdbcType="VARCHAR"
			property="ronrisakujo" />
	</resultMap>

	<insert id="insert" parameterType="com.example.demo.entity.Yuza">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Oct 27 
			15:55:24 JST 2025. -->
		insert into yuza (yuza_id, yuza_pwd, yuza_namae,
		sakuseijikan, ronrisakujo)
		values (#{yuzaId,jdbcType=VARCHAR}, #{yuzaPwd,jdbcType=VARCHAR},
		#{yuzaNamae,jdbcType=VARCHAR},
		#{sakuseijikan,jdbcType=VARCHAR}, 0)
	</insert>

	<select id="findByIdAndPwd"
		parameterType="com.example.demo.entity.Yuza" resultMap="BaseResultMap">
		SELECT * FROM yuza
		WHERE yuza_id = #{yuzaId}
		AND yuza_pwd = #{yuzaPwd}
		AND ronrisakujo = 0
	</select>

	<select id="findAll" resultMap="BaseResultMap">
		SELECT * FROM yuza
		WHERE ronrisakujo = 0
	</select>

	<update id="deleteById" parameterType="String">
		UPDATE yuza
		SET ronrisakujo = 1
		WHERE yuza_id = #{yuzaId}
	</update>
	
	<select id="countByYuzaId" parameterType="string" resultType="int">
        SELECT COUNT(*) 
        FROM yuza 
        WHERE yuza_id = #{yuzaId}
    </select>

</mapper>